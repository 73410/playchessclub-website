<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <meta name="referrer" content="no-referrer">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
    <style type="text/css">
        .div_a {
            width: 100%;
            height: 100px;
            text-align: center;
        }

        .tupianjuzhong {
            clear: both;
            display: block;
            margin: auto;
        }

        iframe {
            display: block;
            margin: 0 auto;
            width: 80%;
            height: 600px;
            border: none;
        }
        #status {
            font-size: 24px;
            margin-top: 20px;
        }
        #server-info, #player-list {
            margin-top: 20px;
            padding: 20px;
            background-color: #ffffff;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            display: inline-block;
            text-align: left;
            width: 100%;
            max-width: 600px;
        }
        h1, h2 {
            color: #5A67D8;
        }
        .player-head {
            width: 32px;
            height: 32px;
            margin-right: 10px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            vertical-align: middle;
        }
        .player-item {
            display: flex;
            align-items: center;
            margin-top: 10px;
        }
        .loading {
            display: inline-block;
            width: 40px;
            height: 40px;
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-radius: 50%;
            border-top-color: #5A67D8;
            animation: spin 1s ease-in-out infinite;
            margin-bottom: 10px;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        @keyframes pulse {
            0% {
                transform: scale(0.95);
                opacity: 0.7;
            }
            70% {
                transform: scale(1);
                opacity: 1;
            }
            100% {
                transform: scale(0.95);
                opacity: 0.7;
            }
        }
        .loading-text {
            margin-top: 10px;
            font-size: 18px;
            animation: pulse 1.5s infinite;
            color: #5A67D8;
        }
        .info-label {
            font-weight: 600;
            color: #444;
        }
    </style>

    <!-- Website Title -->
    <title>PCC-我的世界服务器(Minecraft)</title>

    <!-- Styles -->
    <link href="static/css/bootstrap.css" rel="stylesheet">
    <link href="static/css/magnific-popup.css" rel="stylesheet">
    <link href="static/css/styles.css" rel="stylesheet">
    <link href="static/css/rss.css" rel="stylesheet">
    <!-- Favicon  -->
    <link rel="icon" href="static/picture/logo.webp">

    <script async src="static/js/invisible.js"></script>
</head>

<body data-spy="scroll" data-target=".fixed-top">

    <nav class="navbar navbar-expand-md navbar-dark navbar-custom fixed-top">
        <!-- Text Logo - Use this if you don't have a graphic logo -->
        <!-- <a class="navbar-brand logo-text page-scroll" href="index.html">Aria</a> -->

        <!-- Image Logo -->
        <img src="static/picture/logo.webp" alt="加载图片失败，请刷新" width="32" height="32"> 
        <!-- Mobile Menu Toggle Button -->
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="true" aria-label="Toggle navigation">
            <span class="navbar-toggler-awesome fas fa-bars"></span>
            <span class="navbar-toggler-awesome fas fa-times"></span>
        </button>
        <!-- end of mobile menu toggle button -->

        <div class="collapse navbar-collapse" id="navbarsExampleDefault">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link page-scroll" href="#header">首页 <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link page-scroll" href="#info">服务器介绍</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link page-scroll" href="#statuss">服务器状态</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link page-scroll" href="#news">新闻速览</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link page-scroll" href="#picture">风景欣赏</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link page-scroll" href="#copyright">版权页</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link page-scroll" onclick="window.open('https://news.mcpcc.fun')">
                        pcc新闻主页
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link page-scroll" onclick="window.open('https://afdian.com/@3b3tstudio')">
                        赞助我们
                    </a>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle page-scroll" id="navbarDropdown" role="button" aria-haspopup="true" aria-expanded="false">服务器开源内容</a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <a class="dropdown-item" href="https://github.com/PlayChessClub/pccpack"><span class="item-text">服务器数据包</span></a>
                        <div class="dropdown-items-divide-hr"></div>
                        <a class="dropdown-item" href="https://pration.mcpcc.fun"><span class="item-text">Pration插件</span></a>
                        <div class="dropdown-items-divide-hr"></div>
                        <a class="dropdown-item" href="https://https://github.com/73410/playchessclub-website"><span class="item-text">官网代码库</span></a>
                    </div>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle page-scroll" id="navbarDropdown" role="button" aria-haspopup="true" aria-expanded="false">友情外链</a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <a class="dropdown-item" href="https://mcjpg.zhuyuxuan.link/"><span class="item-text">MCJPG</span></a>
                        <div class="dropdown-items-divide-hr"></div>
                        <a class="dropdown-item" href="https://www.minecraft.net"><span class="item-text">Minecraft</span></a>
                        <div class="dropdown-items-divide-hr"></div>
                        <a class="dropdown-item" href="https://www.optifine.net"><span class="item-text">Optifine</span></a>
                        <div class="dropdown-items-divide-hr"></div>
                        <a class="dropdown-item" href="https://xz.klpbbs.net/"><span class="item-text">获取基岩版</span></a>
                        <div class="dropdown-items-divide-hr"></div>
                        <a class="dropdown-item" href="https://afdian.com/p/0164034c016c11ebafcb52540025c377"><span class="item-text">获取PCL2启动器</span></a>
                        <div class="dropdown-items-divide-hr"></div>
                        <a class="dropdown-item" href="https://hmcl.huangyuhui.net/"><span class="item-text">下载HMCL启动器</span></a>
                        <div class="dropdown-items-divide-hr"></div>
                        <a class="dropdown-item" href="https://www.ranmc.cc"><span class="item-text">桃花源服务器</span></a>
                    </div>
                </li>
            </ul>
        </div>
    </nav> <!-- end of navbar -->

    <!-- Header -->
    <header id="header" class="header">
        <div class="header-content">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="text-container">
                            <h1>正如象棋 <span id="js-rotating"> 探索, 修身, 养性, 品味人生</span></h1>
                            <h2 style="color:yellowgreen;margin-top:4rem">我的世界PlayChessClub服务器</h2>
                            <h4 style="color:yellowgreen;margin-top:1rem">服务器IP:（点击加入qq群或点击下方无QQ用户获取ip）<br>手动加群：1053168412 </h4>
                            <br>
                            <a href="https://qm.qq.com/cgi-bin/qm/qr?k=IN_EHEI0R8G_cji3laxoS_g9YxHcx1NF&jump_from=webapi&authKey=VH21pBOzskhbjIx9gc95OoCI02FIVn42saJddZebJaIkO6cQ+eVVE005lr7yos2y">
                                <button class="btn-solid-lg page-scroll">加入qq群</button>
                            </a>
                            <a href="mail">
                                <button class="btn-solid-lg page-scroll">无QQ用户获取ip</button>
                            </a>
                             <a href="minecraft://?addExternalServer=pcc生存服|srv.mcpcc.fun:19132">
                                <button class="btn-solid-lg page-scroll">添加服务器到列表（基岩版）</button>
                            </a>
                        </div>
                    </div> 
                </div> 
            </div> <!-- end of container -->
        </div> <!-- end of header-content -->
    </header> <!-- end of header -->

    <!-- Intro -->
    <div id="info" class="basic-1">
        <div class="container">
            <div class="row">
                <div class="col-lg-5">
                    <div class="text-container">
                        <h2>PlayChessClub欢迎您</h2>
                        <p>&nbsp; &nbsp; &nbsp; &nbsp;这是一个温馨和谐的服务器，提供了稳定流畅的体验，从疫情开始到结束，PCC已经陪伴大家走过三年时光<br>
                            &nbsp; &nbsp; &nbsp; &nbsp;我们是一个公益服务器，无论您赞助与否，您都可以和大家一起玩耍。</p>
                        <font color="#484a46">
                            <p style="font-weight: bold">&nbsp;</p>
                        </font>
                    </div> <!-- end of text-container -->
                </div> 
                <div class="col-lg-7">
                    <div class="image-container">
                        <img class="img-fluid" src="static/picture/新生存服海报.png" alt="加载图片失败，请刷新">
                    </div> <!-- end of image-container -->
                </div> 
            </div> 
        </div> <!-- end of container -->
    </div> <!-- end of basic-1 -->
    <div id="statuss" class="filter">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <h2>服务器状态</h2>
                </div> 
            </div> 
            <div style="text-align: center;"><h4>头像暂时只支持老玩家，需要的可以联系管理员</h4></div>
            <div class="col-lg-12" style="text-align: center;">
                <div id="status">
                    <div class="loading"></div>
                    <div class="loading-text">正在检查服务器状态...</div>
                </div>
                <div id="server-info"></div>
                <div id="player-list"></div>
                <br>
                <a href="http://srv.mcpcc.fun:8123">
                    <button class="btn-solid-lg page-scroll">打开卫星地图查看更多</button>
                </a>
                <script>
                    async function checkServerStatus() {
                        const serverAddress = 'srv.mcpcc.fun:25566';
            
                        try {
                            const response = await fetch(`https://api.mcsrvstat.us/2/${serverAddress}`);
                            const data = await response.json();
            
                            const statusDiv = document.getElementById('status');
                            const serverInfoDiv = document.getElementById('server-info');
                            const playerListDiv = document.getElementById('player-list');
            
                            if (data.online) {
                                // 显示服务器在线状态
                                statusDiv.innerHTML = `<span style="color: #48BB78; font-weight: 600;">服务器在线</span>`;
            
                                // 显示详细服务器信息
                                serverInfoDiv.innerHTML = `
                                    <div><span class="info-label">服务器消息 (MOTD):</span> ${data.motd.clean.join('<br>')}</div>
                                    <div><span class="info-label">版本:</span> ${data.version}</div>
                                    <div><span class="info-label">协议版本:</span> ${data.protocol}</div>
                                    <div><span class="info-label">主机名:</span> ${data.hostname}</div>
                                    <div><span class="info-label">端口:</span> ${data.port}</div>
                                    <div><span class="info-label">软件:</span> ${data.software ? data.software : 'N/A'}</div>
                                    <div><span class="info-label">在线玩家:</span> ${data.players.online}/${data.players.max}</div>
                                    <div><span class="info-label">Ping 值:</span> ${data.debug.ping} 毫秒</div>
                                    <div><span class="info-label">IP 地址:</span> ${serverAddress}</div>
                                    <div><span class="info-label">服务器运行时间:</span> ${data.debug.cachetime} 秒</div>
                                `;
            
                                // 显示在线玩家列表和头像
                                if (data.players.online > 0 && data.players.list) {
                                    playerListDiv.innerHTML = `<div class="info-label">当前在线玩家 (${data.players.online}):</div>`;
                                    data.players.list.forEach(player => {
                                        playerListDiv.innerHTML += `
                                            <div class="player-item">
                                                <img class="player-head" src="https://r2.mcpcc.fun/faces/32x32/${player}.png" alt="${player}" title="${player}" />
                                                <span>${player}</span>
                                            </div>
                                        `;
                                    });
                                } else {
                                    playerListDiv.innerHTML = `<div class="info-label">当前在线玩家:</div> 目前没有玩家在线。`;
                                }
                            } else {
                                // 服务器离线处理
                                statusDiv.innerHTML = '<span style="color: #E53E3E; font-weight: 600;">服务器离线(有时会卡，请稍后刷新重试)</span>';
                                serverInfoDiv.innerHTML = '';
                                playerListDiv.innerHTML = '';
                            }
                        } catch (error) {
                            document.getElementById('status').innerHTML = '<span style="color: #E53E3E; font-weight: 600;">获取服务器状态时出错。请稍后再试。</span>';
                            console.error('Error:', error);
                        }
                    }
            
                    // 页面加载时自动检查服务器状态
                    checkServerStatus();
                </script>
            </div>
        </div> <!-- end of container -->
    </div> <!-- end of filter -->

    <div id="news" class="filter">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <h2>新闻速览</h2>
                </div> 
            </div> 
            <div class="row">
                <div class="col-lg-12">
                    <div id="rss-feed" class="rss-feed-container">请在浏览器中打开以浏览此部分</div>
                    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
                    <script src="static/js/rss.js"></script>
                </div> 
            </div> 
        </div> 
    </div> 

    <div id="picture" class="filter">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <h2>风景欣赏</h2>
                </div> 
            </div> 
            <div class="row">
                <div class="col-lg-12" style="text-align: center;">
                    <a href="view">
                        <button class="btn-solid-lg page-scroll">点击查看风景</button>
                    </a>
                </div> 
            </div> 
        </div> 
    </div> 

    
    <div id="copyright" class="filter">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <h2>版权页</h2>
                </div> 
            </div> 
            <div class="row">
                <div class="col-lg-12" style="text-align: center;">
                    <h3>3B3T工作室版权所有</h3>
                    <div class="image-container">
                        <img class="img-fluid" src="static/image/logo.png" alt="加载图片失败，请刷新">
                    </div> <!-- end of image-container -->
                </div> 
            </div> 
        </div> <!-- end of container -->
    </div> <!-- end of filter -->

    <!-- Copyright -->
    <div class="copyright">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <p class="p-small"> &copy; 2024 <a target="_blank" href="">PlayChessClub</a>丨版权所有</p>
                    <a href="https://icp.mcsite.cc/mc/0000000011.html" title="MCICP备0000000011号" target="_blank">MCICP备0000000011号</a>
                </div> 
            </div> <!-- enf of row -->
        </div> <!-- end of container -->
    </div> <!-- end of copyright -->

    <!-- Scripts -->
    <script src="static/js/jquery.min.js"></script> <!-- jQuery for Bootstrap's JavaScript plugins -->
    <script src="static/js/bootstrap.min.js"></script>
    <script src="static/js/jquery.easing.min.js"></script> <!-- jQuery Easing for smooth scrolling between anchors -->
    <script src="static/js/swiper.min.js"></script> <!-- Swiper for image and text sliders -->
    <script src="static/js/jquery.magnific-popup.min.js"></script> <!-- Magnific Popup for lightboxes -->
    <script src="static/js/morphext.min.js"></script> <!-- Morphtext rotating text in the header -->
    <script src="static/js/isotope.pkgd.min.js"></script> <!-- Isotope for filter -->
    <script src="static/js/scripts.js"></script> <!-- Custom scripts -->
</body>

</html>
